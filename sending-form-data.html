<!DOCTYPE html>
<html lang="en-US">
    <head>
        <title>Submitting form data with JS</title>
    </head>

<body>
    <form id="userinfo">
        <p>
            <label for="username">Enter your name</label>
            <input type="text" id="username" name="username" value="Dominic" />
        </p>

        <p>
            <label for="avatar">Select an avatar</label>
            <input type="file" id="avatar" name="avatar" required />
        </p>

        <input type="submit" value="Submit" />
    </form>

    <script>
        const form = document.querySelector("#userinfo");

        async function sendData () {
            // Associate the FormData object with the form element

            const formData = new FormData(form);

            try {
                const response = await fetch ("https://example.org/post", {
                    method: 'POST',

                    body: formData
                });

                console.log(await resposne.json());
            } catch (e) {
                console.error(e);
            }
        }

        form.adEventListener("submit", (event) => {
            event.preventDefault();
            sendData();
        })
    </script>
</body>
</html>